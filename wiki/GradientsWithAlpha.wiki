#summary How to create gradients with different color alpha
#labels Phase-Implementation,Phase-Support

= Introduction =

Here's how to create a linear gradient with different colors. Each color has its own alpha value.


= Details =

With purepdf you can't create directly a gradient matrix using ARGB colors, but you have to use a mask which defines the opacity of the desired shape.
Here an example code:


{{{
var shading: PdfShading;
var template: PdfTemplate;
var gState: PdfGState;

cb.moveTo(x, y);
cb.lineTo(x + width, y);
cb.lineTo(x + width, y + height);
cb.lineTo(x, y + height);

// Create template
template = cb.createTemplate(x+width, y+height);

// Prepare transparent group
var transGroup: PdfTransparencyGroup = new PdfTransparencyGroup();
transGroup.put(PdfName.CS, PdfName.DEVICERGB);
transGroup.isolated = true;
transGroup.knockout = false;
template.group = transGroup;

// Prepare graphic state
gState = new PdfGState();
var maskDict: PdfDictionary = new PdfDictionary();
maskDict.put(PdfName.TYPE, PdfName.MASK);
maskDict.put(PdfName.S, new PdfName("Luminosity"));
maskDict.put(new PdfName("G"), template.indirectReference );
gState.put(PdfName.SMASK, maskDict);
cb.setGState(gState);

shading = PdfShading.complexAxial( 
	writer, 0, y, 0, height, 
	Vector.<RGBColor>([ new GrayColor(1), new GrayColor(0), new GrayColor(.5), new GrayColor(1), new GrayColor(1), new GrayColor(0.2), new GrayColor(1) ]),
	null
);
template.paintShading(shading);

// Draw the actual colour under the mask
shading = PdfShading.complexAxial( 
	writer, 0, y, 0, height,
	Vector.<RGBColor>([ RGBColor.YELLOW, RGBColor.BLACK, RGBColor.CYAN, RGBColor.GREEN, RGBColor.BLUE, RGBColor.ORANGE , RGBColor.MAGENTA ]),
	null
);

var axialPattern: PdfShadingPattern = new PdfShadingPattern( shading );

cb.setShadingFill( axialPattern );
cb.fill();
}}}